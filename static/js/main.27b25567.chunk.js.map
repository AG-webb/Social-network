{"version":3,"sources":["api/api.js","redux/dialogs-reducer.js","redux/users-reducer.js","components/Nav/Nav.module.css","components/Nav/NavFriends/NavFriendsItem/NavFriendsItem.module.css","components/Cars/Cars.module.css","assets/img/preloader.svg","components/common/Preloader/Preloader.module.css","components/Nav/NavItems/NavItems.module.css","components/Login/Login.module.css","serviceWorker.js","components/Nav/NavItems/NavItems.jsx","components/Nav/NavFriends/NavFriendsItem/NavFriendsItem.jsx","components/Nav/NavFriends/NavFriends.jsx","components/Nav/NavFriends/NavFriendsContainer.jsx","components/Nav/Nav.jsx","components/Header/Header.jsx","redux/auth-reducer.js","components/Header/HeaderContainer.jsx","components/Cars/Cars.jsx","components/Login/Login.jsx","redux/app-reducer.js","redux/navBar-reducer.js","redux/cars-reducer.js","redux/redux-store.js","hoc/withSuspense.jsx","App.js","index.js","components/Header/Header.module.css","components/common/FormElements/FormElements.module.css","components/common/FormElements/FormElements.jsx","utils/validators/validators.js","components/common/Preloader/Preloader.jsx","components/Nav/NavFriends/NavFriends.module.css","redux/profile-reducer.js"],"names":["instance","axios","baseURL","withCredentials","headers","usersAPI","getUsers","currentPage","pageSize","get","then","response","data","deleteSubscribe","userId","delete","postSubscribe","post","profileAPI","getProfile","getStatus","updateStatus","status","put","uploadPhoto","photo","formData","FormData","append","saveProfileInfo","profile","authAPI","getAuthUser","login","email","password","rememberMe","captcha","logout","securityAPI","getCaptchaUrl","initialState","messages","id","message","dialogs","name","addDialog","newDialogText","type","dialogsReducer","state","action","newDialog","length","newMessage","users","portionSize","totalItemsCount","isFetching","subscribeProgress","setCurrentPage","toggleFetch","toggleSubscribeProgress","inProgress","dispatch","items","totalCount","resultCode","unfollow","follow","usersReducer","map","user","followed","filter","module","exports","Boolean","window","location","hostname","match","NavItems","props","className","style","item","to","activeClassName","active","settings","NavFriendsItem","src","alt","NavFriends","navFriends","friends","friend","key","wrapper","title","block","NavFriendsContainer","connect","navBar","Nav","nav","UserInfo","info","onClick","Header","header","account","isAuth","loginBtn","captchaUrl","setAuthUserData","a","url","authReducer","HeaderContainer","this","React","Component","auth","cars","carsPage","car","LoginFormRedux","reduxForm","form","onSubmit","handleSubmit","inputGroup","htmlFor","Field","placeholder","component","Input","validate","required","error","submit","stopSubmit","_error","heading","initialized","appReducer","navBarReducer","carsReducer","require","createStore","combineReducers","applyMiddleware","compose","store","profilePage","profileReducer","dialogsPage","findFriendsPage","app","formReducer","__REDUX_DEVTOOLS_EXTENSION_COMPOSE__","thunkMidlleware","withSuspense","Suspense","fallback","Preloader","ProfileContainer","lazy","DialogsContainer","UsersContainer","AppComponent","initializeApp","path","exact","render","AppContainer","promise","Promise","all","App","ReactDOM","document","getElementById","navigator","serviceWorker","ready","registration","unregister","catch","console","TextArea","input","meta","touched","invaild","errorMessage","value","maxLength","preloader","posts","likes","profileEditSuccess","addPost","newPostText","setStatus","profileEditSuccessToggle","success","photos","getState","authUserId","newPost"],"mappings":"uGAAA,qJAEIA,EAAWC,SAAa,CACxBC,QAAS,gDACTC,iBAAiB,EACjBC,QAAS,CACL,UAAW,0CAKNC,EAAW,CACpBC,SADoB,SACXC,EAAaC,GAClB,OAAOR,EAASS,IAAT,qBAA2BF,EAA3B,kBAAgDC,EAAhD,MACNE,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxBC,gBARoB,SAQHC,GACb,OAAOd,EAASe,OAAT,iBAA0BD,EAA1B,MACNJ,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxBI,cAfoB,SAeLF,GACX,OAAOd,EAASiB,KAAT,iBAAwBH,EAAxB,MACNJ,MAAK,SAAAC,GACF,OAAOA,EAASC,UAKfM,EAAa,CACtBC,WADsB,SACXL,GACP,OAAOd,EAASS,IAAT,kBAAwBK,IAC9BJ,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxBQ,UARsB,SAQZN,GACN,OAAOd,EAASS,IAAT,yBAA+BK,IACrCJ,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxBS,aAfsB,SAeTC,GACT,OAAOtB,EAASuB,IAAT,iBAA+B,CAACD,WACtCZ,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxBY,YAtBsB,SAsBVC,GACR,IAAMC,EAAW,IAAIC,SAGrB,OAFAD,EAASE,OAAO,QAASH,GAElBzB,EAASuB,IAAT,gBAA8BG,EAAU,CAC3CtB,QAAS,CACL,eAAgB,yBAGvBM,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxBiB,gBApCsB,SAoCNC,GACZ,OAAO9B,EAASuB,IAAT,UAAwBO,GAC9BpB,MAAK,SAAAC,GACF,OAAOA,EAASC,UAKfmB,EAAU,CACnBC,YADmB,WAEf,OAAOhC,EAASS,IAAT,WACNC,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxBqB,MARmB,SAQZC,EAAOC,EAAUC,EAAYC,GAChC,OAAOrC,EAASiB,KAAT,aAA4B,CAACiB,QAAOC,WAAUC,aAAYC,YAChE3B,MAAK,SAAAC,GACF,OAAOA,EAASC,SAIxB0B,OAfmB,WAgBf,OAAOtC,EAASe,OAAT,cACNL,MAAK,SAAAC,GACF,OAAOA,EAASC,UAKf2B,EAAc,CACvBC,cADuB,WAEnB,OAAOxC,EAASS,IAAT,6BACNC,MAAK,SAAAC,GACF,OAAOA,EAASC,W,sFCvGxB6B,EAAe,CACfC,SAAU,CACN,CAACC,GAAI,IAAKC,QAAS,wBACnB,CAACD,GAAI,IAAKC,QAAS,eACnB,CAACD,GAAI,IAAKC,QAAS,6BACnB,CAACD,GAAI,IAAKC,QAAS,6BACnB,CAACD,GAAI,IAAKC,QAAS,8BAEvBC,QAAS,CACL,CAACF,GAAI,IAAKG,KAAM,OAChB,CAACH,GAAI,IAAKG,KAAM,UAChB,CAACH,GAAI,IAAKG,KAAM,QAChB,CAACH,GAAI,IAAKG,KAAM,SAChB,CAACH,GAAI,IAAKG,KAAM,UA8BXC,EAAY,SAACC,GAAD,MAAoB,CACzCC,KA9Ce,aA+CfD,kBAKWE,IAhCQ,WAAmC,IAAlCC,EAAiC,uDAAzBV,EAAcW,EAAW,uCACrD,OAAOA,EAAOH,MACV,IAtBW,aAuBP,IAAII,EAAY,CACZV,GAAIQ,EAAMT,SAASY,OAAS,EAC5BR,KAAM,SAGNS,EAAa,CACbZ,GAAIQ,EAAMN,QAAQS,OAAS,EAC3BV,QAASQ,EAAOJ,eAGpB,OAAO,2BACAG,GADP,IAEIN,QAAQ,GAAD,mBAAMM,EAAMN,SAAZ,CAAqBQ,IAC5BX,SAAS,GAAD,mBAAMS,EAAMT,UAAZ,CAAsBa,MAGtC,QACI,OAAOJ,K,oMC9BfV,EAAe,CACfe,MAAO,GACPhD,SAAU,EACViD,YAAa,GACbC,gBAAiB,EACjBnD,YAAa,EACboD,YAAY,EACZC,kBAAmB,IAgFVC,EAAiB,SAACtD,GAAD,MAAkB,CAC5C0C,KA7FqB,mBA8FrB1C,gBAQSuD,EAAc,SAACH,GAAD,MAAiB,CACxCV,KArGoB,kBAsGpBU,eAGSI,EAA0B,SAACC,EAAYlD,GAAb,MAAyB,CAC5DmC,KAzG0B,wBA0G1Be,aACAlD,WAISR,EAAW,SAACC,EAAaC,GAAd,OAA2B,SAACyD,GAChDA,EAASH,GAAY,IAErBzD,IAASC,SAASC,EAAaC,GAC9BE,MAAK,SAAAE,GACFqD,EAASH,GAAY,IACrBG,EAjC4B,CAChChB,KAzFc,YA0FdO,MA+BsB5C,EAAKsD,QACvBD,EAxBgD,CACpDhB,KAjG0B,wBAkG1BS,gBAsBgC9C,EAAKuD,kBAI5BtD,EAAkB,SAACC,GAAD,OAAY,SAACmD,GACxCA,EAASF,GAAwB,EAAMjD,IAEvCT,IAASQ,gBAAgBC,GAAQJ,MAAK,SAAAE,GACX,IAApBA,EAAKwD,YACJH,EAhDY,SAACnD,GAAD,MAAa,CACjCmC,KArFa,WAsFbnC,UA8CiBuD,CAASvD,IAEtBmD,EAASF,GAAwB,EAAOjD,SAInCE,EAAgB,SAACF,GAAD,OAAY,SAACmD,GACtCA,EAASF,GAAwB,EAAMjD,IAEvCT,IAASW,cAAcF,GAAQJ,MAAK,SAAAE,GACT,IAApBA,EAAKwD,YACJH,EAhEU,SAACnD,GAAD,MAAa,CAC/BmC,KAjFW,SAkFXnC,UA8DiBwD,CAAOxD,IAEpBmD,EAASF,GAAwB,EAAOjD,SAIjCyD,IApIM,WAAmC,IAAlCpB,EAAiC,uDAAzBV,EAAcW,EAAW,uCACnD,OAAOA,EAAOH,MACV,IApBO,SAqBH,OAAO,2BACAE,GADP,IAEIK,MAAOL,EAAMK,MAAMgB,KAAK,SAAAC,GACpB,OAAIA,EAAK9B,KAAOS,EAAOtC,OACZ,2BAAI2D,GAAX,IAAiBC,UAAU,IAExBD,OAInB,IA9BS,WA+BL,OAAO,2BACAtB,GADP,IAEIK,MAAOL,EAAMK,MAAMgB,KAAK,SAAAC,GACpB,OAAIA,EAAK9B,KAAOS,EAAOtC,OACZ,2BAAI2D,GAAX,IAAiBC,UAAU,IAExBD,OAInB,IAxCU,YAyCN,OAAO,2BACAtB,GADP,IAEIK,MAAOJ,EAAOI,QAGtB,IA7CiB,mBA8Cb,OAAO,2BACAL,GADP,IAEI5C,YAAa6C,EAAO7C,cAG5B,IAlDsB,wBAmDlB,OAAO,2BACA4C,GADP,IAEIO,gBAAiBN,EAAOM,kBAGhC,IAvDgB,kBAwDZ,OAAO,2BACAP,GADP,IAEIQ,WAAYP,EAAOO,aAG3B,IA5DsB,wBA6DlB,OAAO,2BACAR,GADP,IAEIS,kBAAmBR,EAAOY,WAAP,sBACTb,EAAMS,mBADG,CACgBR,EAAOtC,SACpCqC,EAAMS,kBAAkBe,QAAO,SAAAhC,GAAE,OAAIA,IAAOS,EAAOtC,YAGjE,QACI,OAAOqC,K,oBC5EnByB,EAAOC,QAAU,CAAC,IAAM,mB,oBCAxBD,EAAOC,QAAU,CAAC,KAAO,+B,oBCAzBD,EAAOC,QAAU,CAAC,QAAU,wB,oBCD5BD,EAAOC,QAAU,IAA0B,uC,oBCC3CD,EAAOC,QAAU,CAAC,UAAY,+B,qGCA9BD,EAAOC,QAAU,CAAC,KAAO,uBAAuB,OAAS,yBAAyB,SAAW,6B,mBCA7FD,EAAOC,QAAU,CAAC,QAAU,uBAAuB,QAAU,uBAAuB,KAAO,oBAAoB,WAAa,0BAA0B,WAAa,0BAA0B,OAAS,wB,wCCWlLC,QACW,cAA7BC,OAAOC,SAASC,UAEe,UAA7BF,OAAOC,SAASC,UAEhBF,OAAOC,SAASC,SAASC,MACvB,2D,kICWSC,EAzBE,SAACC,GACd,OACI,6BACI,yBAAMC,UAAWC,IAAMC,MACnB,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,IAAMI,QAA9C,YAEJ,yBAAKL,UAAWC,IAAMC,MAClB,kBAAC,IAAD,CAASC,GAAG,WAAWC,gBAAiBH,IAAMI,QAA9C,aAEJ,yBAAKL,UAAWC,IAAMC,MAClB,kBAAC,IAAD,CAASC,GAAG,KAAZ,SAEJ,yBAAKH,UAAWC,IAAMC,MAClB,kBAAC,IAAD,CAASC,GAAG,QAAQC,gBAAiBH,IAAMI,QAA3C,SAEJ,yBAAKL,UAAWC,IAAMC,MAClB,kBAAC,IAAD,CAASC,GAAG,cAAcC,gBAAiBH,IAAMI,QAAjD,eAEJ,yBAAKL,UAAS,UAAKC,IAAMC,KAAX,YAAmBD,IAAMK,WACnC,kBAAC,IAAD,CAASH,GAAG,KAAZ,e,mCCPDI,EAbQ,SAACR,GACpB,OACI,6BACI,yBAAKC,UAAWC,IAAMC,MAClB,yBAAKF,UAAU,UACX,yBAAKQ,IAAKT,EAAMS,IAAKC,IAAI,YAE7B,8BAAOV,EAAMtC,SCQdiD,EAdI,SAACX,GAChB,IAAIY,EAAaZ,EAAMa,QAClBzB,KAAI,SAAA0B,GAAM,OAAI,kBAAC,EAAD,CAAgBpD,KAAMoD,EAAOpD,KAAM+C,IAAKK,EAAOL,IAAKM,IAAKD,EAAOvD,QAEnF,OACI,yBAAK0C,UAAWC,IAAMc,SAClB,0BAAMf,UAAWC,IAAMe,OAAvB,WACA,yBAAKhB,UAAWC,IAAMgB,OACjBN,K,QCMFO,EAFaC,aAZN,SAACrD,GACnB,MAAO,CACH8C,QAAS9C,EAAMsD,OAAOR,YAIL,SAAChC,GACtB,MAAO,KAKiBuC,CAA6CT,GCF1DW,EATH,SAACtB,GACT,OACI,yBAAKC,UAAWC,IAAMqB,KAClB,kBAAC,EAAD,MACA,kBAAC,EAAD,Q,iBCWNC,EAAW,SAACxB,GACd,OACI,6BACI,yBAAKC,UAAWC,IAAMuB,MAClB,uCAAazB,EAAMnD,MAAnB,MACA,0BAAM6E,QAAS1B,EAAM9C,OAAQ+C,UAAWC,IAAMhD,QAA9C,WAEJ,6BACI,yCACA,8BAAO8C,EAAMlD,UAMd6E,EA/BA,SAAC3B,GACZ,OACI,4BAAQC,UAAWC,IAAM0B,QACrB,yBAAKnB,IAAI,+KAA+KC,IAAI,SAC5L,0BAAMT,UAAWC,IAAMe,OAAvB,OACA,yBAAKhB,UAAWC,IAAM2B,SAEd7B,EAAM8B,OACJ,kBAAC,EAAD,CAAUjF,MAAOmD,EAAMnD,MAAQK,OAAQ8C,EAAM9C,OAAQJ,MAAOkD,EAAMlD,QAClE,kBAAC,IAAD,CAASmD,UAAWC,IAAM6B,SAAU3B,GAAG,UAAvC,a,gDCPlB/C,EAAe,CACf3B,OAAQ,KACRoB,MAAO,KACPD,MAAO,KACPiF,QAAQ,EACRvD,YAAY,EACZyD,WAAY,MAuBHC,EAAkB,SAACvG,EAAQoB,EAAOD,EAAOiF,GAAvB,MAAmC,CAC9DjE,KAjCuB,qBAkCvBrC,KAAM,CAACE,SAAQoB,QAAOD,QAAOiF,YAUpBlF,EAAc,kBAAM,SAACiC,GAC9B,OACIlC,IAAQC,cAActB,MAAK,SAAAE,GACvB,GAAuB,IAApBA,EAAKwD,WAAkB,CAAC,IAAD,EACGxD,EAAKA,KAAzB+B,EADiB,EACjBA,GAAIT,EADa,EACbA,MAAOD,EADM,EACNA,MAChBgC,EAASoD,EAAgB1E,EAAIT,EAAOD,GAAO,UAqB9CO,EAAgB,yDAAM,WAAOyB,GAAP,iBAAAqD,EAAA,sEACd/E,IAAYC,gBADE,OAC3B5B,EAD2B,OAE3BwG,EAAaxG,EAAK2G,IACtBtD,EApCmC,CACnChB,KArCoB,kBAsCpBsE,IAkCuBH,IAHQ,2CAAN,uDAcdI,EAxEK,WAAmC,IAAlCrE,EAAiC,uDAAzBV,EAAcW,EAAW,uCAClD,OAAOA,EAAOH,MACV,IAdmB,qBAef,OAAO,2BACAE,GACAC,EAAOxC,MAGlB,IAnBgB,kBAoBZ,OAAO,2BACAuC,GADP,IAEIiE,WAAYhE,EAAOmE,MAG3B,QACI,OAAOpE,ICzBbsE,E,uKAEE,OAAO,kBAAC,EAAWC,KAAKtC,W,GAFFuC,IAAMC,WAcrBpB,eARO,SAACrD,GACnB,MAAO,CACH+D,OAAQ/D,EAAM0E,KAAKX,OACnBjF,MAAOkB,EAAM0E,KAAK5F,MAClBC,MAAOiB,EAAM0E,KAAK3F,SAIc,CACpCI,OD2DkB,yDAAM,WAAO2B,GAAP,SAAAqD,EAAA,sEACPvF,IAAQO,SADD,OAGD,IAHC,OAGhB8B,YACJH,EAASoD,EAAgB,KAAM,KAAM,MAAM,IAJvB,2CAAN,wDC5DPb,CAEZiB,G,kBCAYjB,eANO,SAACrD,GACnB,MAAO,CACH2E,KAAM3E,EAAM4E,SAASD,QAIW,GAAzBtB,EAjBF,SAACpB,GACV,IAAI0C,EAAO1C,EAAM0C,KACZtD,KAAI,SAAAwD,GAAG,OAAI,yBAAK7B,IAAK6B,EAAIrF,GAAIkD,IAAKmC,EAAInC,IAAKC,IAAI,WAEpD,OACI,yBAAKT,UAAWC,IAAMc,SACjB0B,M,0DC8BPG,EAAiBC,YAAU,CAC7BC,KAAM,SADaD,EA/BL,SAAC9C,GACf,OACI,0BAAMgD,SAAUhD,EAAMiD,aAAchD,UAAWC,IAAM6C,MACjD,yBAAK9C,UAAWC,IAAMgD,YAClB,2BAAOC,QAAQ,IAAf,SACA,kBAACC,EAAA,EAAD,CAAOvF,KAAM,OAAQwF,YAAa,QAAS3F,KAAM,QAAS4F,UAAWC,IAAOC,SAAU,CAACC,QAE3F,yBAAKxD,UAAWC,IAAMgD,YAClB,2BAAOC,QAAQ,IAAf,YACA,kBAACC,EAAA,EAAD,CAAOvF,KAAM,WAAYwF,YAAa,WAAY3F,KAAM,WAAY4F,UAAWC,IAAOC,SAAU,CAACC,QAErG,yBAAKxD,UAAWC,IAAMlD,YAClB,kBAACoG,EAAA,EAAD,CAAOvF,KAAK,WAAWH,KAAM,aAAc4F,UAAW,UACtD,2BAAOH,QAAQ,cAAf,gBAGAnD,EAAM0D,OAAS,0BAAMzD,UAAU,SAASD,EAAM0D,OAElD,6BAEQ1D,EAAMgC,YAAc,yBAAKvB,IAAKT,EAAMgC,WAAYtB,IAAI,YAGpDV,EAAMgC,YAAc,kBAACoB,EAAA,EAAD,CAAOvF,KAAM,OAAQH,KAAM,UAAW4F,UAAWC,IAAOC,SAAU,CAACC,QAG/F,4BAAQxD,UAAS,UAAKC,IAAMyD,OAAX,SAAjB,aAmCGvC,gBAPO,SAACrD,GACnB,MAAO,CACH+D,OAAQ/D,EAAM0E,KAAKX,OACnBE,WAAYjE,EAAM0E,KAAKT,cAIS,CACpCnF,MHbiB,SAACC,EAAOC,EAAUC,EAAYC,GAA9B,8CAA0C,WAAO4B,GAAP,iBAAAqD,EAAA,sEAC1CvF,IAAQE,MAAMC,EAAOC,EAAUC,EAAYC,GADD,OAGpC,KAFnBzB,EADuD,QAGnDwD,WACJH,EAASjC,MAEc,KAApBpB,EAAKwD,YACJH,EAASzB,KAGTI,EAAUhC,EAAK8B,SAASY,OAAS,EAAI1C,EAAK8B,SAAS,GAAK,uBAC5DuB,EAAS+E,YAAW,QAAS,CAACC,OAAQrG,MAXiB,2CAA1C,wDGYN4D,EA1BD,SAACpB,GAKX,OAAGA,EAAM8B,OACE,kBAAC,IAAD,CAAU1B,GAAI,aAIrB,yBAAKH,UAAWC,IAAMc,SAClB,wBAAIf,UAAWC,IAAM4D,SAArB,SAGA,kBAACjB,EAAD,CAAgBG,SAbP,SAAC1G,GACd0D,EAAMnD,MAAMP,EAASQ,MAAOR,EAASS,SAAUT,EAASU,WAAYV,EAASW,UAYrC+E,WAAYhC,EAAMgC,iB,SCtD9D3E,GAAe,CACf0G,aAAa,GAgCFC,GA7BI,WAAmC,IAAlCjG,EAAiC,uDAAzBV,GAAcW,EAAW,uCACjD,OAAOA,EAAOH,MACV,IARoB,sBAShB,OAAO,2BACAE,GADP,IAEIgG,aAAa,IAGrB,QACI,OAAOhG,ICjBfV,GAAe,CACfwD,QAAS,CACL,CAACtD,GAAI,EAAGG,KAAM,OAAQ+C,IAAK,0FAC3B,CAAClD,GAAI,EAAGG,KAAM,QAAS+C,IAAK,2EAC5B,CAAClD,GAAI,EAAGG,KAAM,OAAQ+C,IAAK,6FASpBwD,GALO,WAAmC,IAAlClG,EAAiC,uDAAzBV,GAE3B,OAAOU,G,iDCVPV,GAAe,CACfqF,KAAM,CACF,CAACnF,GAAI,EAAGkD,IAAK,mGACb,CAAClD,GAAI,EAAGkD,IAAK,gFACb,CAAClD,GAAI,EAAGkD,IAAK,mDACb,CAAClD,GAAI,EAAGkD,IAAK,iIACb,CAAClD,GAAI,EAAGkD,IAAK,sFASNyD,GALK,WAAmC,IAAlCnG,EAAiC,uDAAzBV,GAEzB,OAAOU,G,GCDwDoG,EAAQ,GAAnEC,G,GAAAA,YAAaC,G,GAAAA,gBAAiBC,G,GAAAA,gBAAiBC,G,GAAAA,QAejDC,GAAQJ,GAbCC,GAAgB,CAC3BhD,OAAQ4C,GACRQ,YAAaC,KACbC,YAAa7G,KACb8G,gBAAiBzF,KACjBwD,SAAUuB,GACVzB,KAAML,EACNyC,IAAKb,GACLjB,KAAM+B,QAIenF,OAAOoF,sCAAwCR,IAEpED,GAAgBU,QAKpBrF,OAAO6E,MAAQA,GAEAA,UC/BFS,GAAe,SAACzC,GAEzB,OAAO,SAACxC,GACJ,OACI,kBAAC,IAAMkF,SAAP,CAAgBC,SAAW,kBAACC,GAAA,EAAD,OACvB,kBAAC5C,EAAcxC,MCQzBqF,GAAmB9C,IAAM+C,MAAM,kBAAM,iCACrCC,GAAmBhD,IAAM+C,MAAM,kBAAM,iCACrCE,GAAiBjD,IAAM+C,MAAM,kBAAM,iCAGnCG,G,kLAEEnD,KAAKtC,MAAM0F,kB,+BAIX,OAAIpD,KAAKtC,MAAM+D,YAKX,yBAAK9D,UAAU,WACX,kBAAC,EAAD,MACA,kBAAC,EAAD,MACA,yBAAKA,UAAU,mBACX,kBAAC,IAAD,CAAO0F,KAAK,GAAGC,OAAO,EAAMC,OAAS,kBAAM,kBAAC,IAAD,CAAUzF,GAAG,gBACxD,kBAAC,IAAD,CAAOuF,KAAK,oBAAoBE,OAASZ,GAAaI,MACtD,kBAAC,IAAD,CAAOM,KAAK,WAAWE,OAASZ,GAAaM,MAC7C,kBAAC,IAAD,CAAOI,KAAK,cAAcE,OAASZ,GAAaO,MAChD,kBAAC,IAAD,CAAOG,KAAK,SAASE,OAAS,kBAAM,kBAAC,GAAD,SACpC,kBAAC,IAAD,CAAOF,KAAK,QAAQE,OAAS,kBAAM,kBAAC,EAAD,SACnC,kBAAC,IAAD,CAAOF,KAAK,IAAIC,OAAO,EAAMC,OAAS,kBAAM,mDAd7C,kBAACT,GAAA,EAAD,U,GAPQ7C,IAAMC,WAkC3BsD,GAAe1E,aANG,SAACrD,GACrB,MAAO,CACHgG,YAAahG,EAAM8G,IAAId,eAIe,CAC1C2B,cL5ByB,kBAAM,SAAC7G,GAChC,IAAIkH,EAAUlH,EAASjC,KAEvBoJ,QAAQC,IAAI,CAACF,IACRzK,MAAM,WACHuD,EAX6B,CACrChB,KArBwB,8BKqDPuD,CAElBqE,IAcYS,GAZH,SAAClG,GACT,OAEQ,kBAAC,IAAD,KACI,kBAAC,IAAD,CAAUwE,MAAOA,IACb,kBAACsB,GAAD,SC1DpBK,IAASN,OAAO,kBAAC,GAAD,MAASO,SAASC,eAAe,SjB6H3C,kBAAmBC,WACrBA,UAAUC,cAAcC,MACrBlL,MAAK,SAAAmL,GACJA,EAAaC,gBAEdC,OAAM,SAAAjD,GACLkD,QAAQlD,MAAMA,EAAMlG,a,mBkBxI5BgC,EAAOC,QAAU,CAAC,OAAS,uBAAuB,MAAQ,sBAAsB,QAAU,wBAAwB,SAAW,yBAAyB,KAAO,qBAAqB,OAAS,yB,mBCA3LD,EAAOC,QAAU,CAAC,WAAa,iCAAiC,QAAU,8BAA8B,aAAe,qC,iJCE1GoH,EAAW,SAAC,GAA+C,IAA9CC,EAA6C,EAA7CA,MAA6C,IAAtCC,KAAOC,EAA+B,EAA/BA,QAAStD,EAAsB,EAAtBA,MAAW1D,EAAW,gCAC/DiH,EAAUD,GAAUtD,EACxB,OACI,yBAAKzD,UAAS,UAAKC,IAAMgD,WAAX,YAAyB+D,EAAU/G,IAAM+G,QAAU,KAC7D,8CAAcH,EAAW9G,IACxBiH,GAAW,0BAAMhH,UAAWC,IAAMgH,cAAexD,KAKjDH,EAAQ,SAAC,GAA+C,IAA9CuD,EAA6C,EAA7CA,MAA6C,IAAtCC,KAAOC,EAA+B,EAA/BA,QAAStD,EAAsB,EAAtBA,MAAW1D,EAAW,gCAC5DiH,EAAUD,GAAWtD,EACzB,OACI,yBAAKzD,UAAS,UAAKC,IAAMgD,WAAX,YAAyB+D,EAAU/G,IAAM+G,QAAU,KAC7D,2CAAWH,EAAW9G,IACrBiH,GAAW,0BAAMhH,UAAWC,IAAMgH,cAAexD,M,gCClB9D,oEAAO,IAAMD,EAAW,SAAC0D,GACrB,IAAGA,EAIH,MAAO,yBAGEC,EAAY,SAACA,GAAD,OAAe,SAACD,GACrC,GAAGA,EAAMjJ,OAASkJ,EACd,MAAM,iBAAN,OAAwBA,EAAxB,iB,gCCVR,wDAYehC,IARG,WACd,OACI,yBAAKnF,UAAWC,IAAMmH,WAClB,yBAAK5G,IAAK4G,IAAW3G,IAAI,iB,mBCNrClB,EAAOC,QAAU,CAAC,QAAU,4BAA4B,MAAQ,0BAA0B,MAAQ,4B,+QCS9FpC,EAAe,CACfiK,MAAO,CACH,CACI/J,GAAI,IACJC,QAAS,6EACT+J,MAAO,MACP9G,IAAK,wEAET,CACIlD,GAAI,IACJC,QAAS,8HACT+J,MAAO,OACP9G,IAAK,oEAET,CACIlD,GAAI,IACJC,QAAS,qEACT+J,MAAO,KACP9G,IAAK,8FAGb/D,QAAS,KACT8K,mBAAoB,KACpBtL,OAAQ,IA4DCuL,EAAU,SAACC,GAAD,MAAkB,CACrC7J,KA3Fa,WA4Fb6J,gBAQSC,EAAY,SAACzL,GAAD,MAAa,CAClC2B,KAnGe,aAoGf3B,WAQS0L,EAA2B,SAACC,GAAD,MAAc,CAClDhK,KA3GgC,8BA4GhCgK,YAIS9L,EAAa,SAACL,GAAD,OAAY,SAACmD,GACnC/C,IAAWC,WAAWL,GACjBJ,MAAK,SAAAE,GACFqD,EAxB4B,CACpChB,KA/FgB,cAgGhBnB,QAsB4BlB,SAInBQ,EAAY,SAACN,GAAD,OAAY,SAACmD,GAClC/C,IAAWE,UAAUN,GAChBJ,MAAK,SAAAE,GACFqD,EAAS8I,EAAUnM,SAIlBS,EAAe,SAACC,GAAD,OAAY,SAAC2C,GACrC/C,IAAWG,aAAaC,GACnBZ,MAAK,SAAAE,GACqB,IAApBA,EAAKwD,YACJH,EAAS8I,EAAUzL,SAKtBE,EAAc,SAACC,GAAD,OAAW,SAACwC,GACnC/C,IAAWM,YAAYC,GAClBf,MAAK,SAAAE,GACqB,IAApBA,EAAKwD,YACJH,EAtCsB,CAClChB,KAvGe,aAwGfiK,OAoC+BtM,EAAKA,KAAKsM,cAKhCrL,EAAkB,SAACC,GAAD,OAAa,SAACmC,EAAUkJ,GACnD,IAAIC,EAAaD,IAAWtF,KAAK/G,OACjCI,IAAWW,gBAAgBC,GACtBpB,MAAK,SAAAE,GACF,GAAuB,IAApBA,EAAKwD,WACJH,EAAS9C,EAAWiM,IACpBnJ,EAAS+I,GAAyB,QAEjC,CACD,IAAIpK,EAAUhC,EAAK8B,SAASY,OAAS,EAAI1C,EAAK8B,SAAS,GAAK,uBAC5DuB,EAAS+E,YAAW,cAAe,CAACC,OAAQrG,KAC5CqB,EAAS+I,GAAyB,UAKnClD,IAnIQ,WAAmC,IAAlC3G,EAAiC,uDAAzBV,EAAcW,EAAW,uCACrD,OAAOA,EAAOH,MACV,IAnCS,WAoCL,IAAIoK,EAAU,CACV1K,GAAIQ,EAAMuJ,MAAMpJ,OAAS,EACzBV,QAASQ,EAAO0J,YAChBH,MAAO,EACP9G,IAAK,yGAGT,OAAO,2BACA1C,GADP,IAEIuJ,MAAM,GAAD,mBAAMvJ,EAAMuJ,OAAZ,CAAmBW,MAGhC,IA/CY,cAgDR,OAAO,2BACAlK,GADP,IAEIrB,QAASsB,EAAOtB,UAGxB,IApDW,aAqDP,OAAO,2BACAqB,GADP,IAEI7B,OAAQ8B,EAAO9B,SAGvB,IAvDO,SAwDH,OAAO,2BACA6B,GADP,IAEIuJ,MAAOvJ,EAAMuJ,MAAM/H,QAAO,SAAA1D,GAAI,OAAIA,EAAK0B,IAAMS,EAAOT,QAG5D,IA/DW,aAgEP,OAAO,2BACAQ,GADP,IAEIrB,QAAQ,2BAAKqB,EAAMrB,SAAZ,IAAqBoL,OAAQ9J,EAAO8J,WAGnD,IApE4B,8BAqExB,OAAO,2BACA/J,GADP,IAEIyJ,mBAAoBxJ,EAAO6J,UAGnC,QACI,OAAO9J,M","file":"static/js/main.27b25567.chunk.js","sourcesContent":["import * as axios from 'axios';\r\n\r\nlet instance = axios.create({\r\n    baseURL: \"https://social-network.samuraijs.com/api/1.0/\",\r\n    withCredentials: true,\r\n    headers: {\r\n        \"API-KEY\": \"37438a46-9c75-4b15-b91a-02b9b89b933a\",\r\n    },\r\n});\r\n\r\n\r\nexport const usersAPI = {\r\n    getUsers(currentPage, pageSize) {\r\n        return instance.get(`users?page=${currentPage}&count=${pageSize} `)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    deleteSubscribe (userId) {\r\n        return instance.delete(`follow/${userId} `)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    postSubscribe (userId) {\r\n        return instance.post(`follow/${userId} `)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    }\r\n};\r\n\r\nexport const profileAPI = {\r\n    getProfile(userId) {\r\n        return instance.get(`profile/${userId}`)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    getStatus(userId) {\r\n        return instance.get(`profile/status/${userId}`)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    updateStatus(status) {\r\n        return instance.put(`profile/status`, {status})\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    uploadPhoto(photo) {\r\n        const formData = new FormData();\r\n        formData.append(\"image\", photo);\r\n        \r\n        return instance.put(`profile/photo`, formData, {\r\n            headers: {\r\n                \"Content-Type\": 'multipart/form-data'\r\n            }\r\n        })\r\n        .then(response => { \r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    saveProfileInfo(profile) {\r\n        return instance.put(`profile`, profile)\r\n        .then(response => { \r\n            return response.data;\r\n        });\r\n    },\r\n};\r\n\r\nexport const authAPI = {\r\n    getAuthUser () {\r\n        return instance.get(`auth/me`)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    login (email, password, rememberMe, captcha) {\r\n        return instance.post(`auth/login`, {email, password, rememberMe, captcha})\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n\r\n    logout () {\r\n        return instance.delete(`auth/login`)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n};\r\n\r\nexport const securityAPI = {\r\n    getCaptchaUrl () {\r\n        return instance.get(`/security/get-captcha-url`)\r\n        .then(response => {\r\n            return response.data;\r\n        });\r\n    },\r\n};\r\n\r\n","const ADD_DIALOG = \"ADD-DIALOG\";\r\n\r\nlet initialState = {\r\n    messages: [\r\n        {id: \"1\", message: \"Hello, how are you?!\"},\r\n        {id: \"2\", message: \"Hey, yooo?!\"},\r\n        {id: \"3\", message: \"Hello, how are you 1111?!\"},\r\n        {id: \"4\", message: \"Hello, how are you 2222?!\"},\r\n        {id: \"5\", message: \"Hello, how are you 3333?!\"},\r\n    ],\r\n    dialogs: [\r\n        {id: \"1\", name: \"Ann\"},\r\n        {id: \"2\", name: \"Andrew\"},\r\n        {id: \"3\", name: \"Arik\"},\r\n        {id: \"4\", name: \"Suzan\"},\r\n        {id: \"5\", name: \"Pete\"},\r\n    ],\r\n\r\n};\r\n\r\nconst dialogsReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_DIALOG: {\r\n            let newDialog = {\r\n                id: state.messages.length + 1,\r\n                name: \"Armen\",\r\n            }\r\n        \r\n            let newMessage = {\r\n                id: state.dialogs.length + 1,\r\n                message: action.newDialogText,\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                dialogs: [...state.dialogs, newDialog],\r\n                messages: [...state.messages, newMessage],\r\n            };\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\n// Action Creators\r\nexport const addDialog = (newDialogText) => ({\r\n    type: ADD_DIALOG,\r\n    newDialogText,\r\n});\r\n\r\n// Thunk Creators\r\n\r\nexport default dialogsReducer;","import { usersAPI } from \"../api/api\";\r\n\r\nconst FOLLOW = \"FOLLOW\";\r\nconst UNFOLLOW = \"UNFOLLOW\";\r\nconst SET_USERS = \"SET-USERS\";\r\nconst SET_CURRENT_PAGE = \"SET-CURRENT-PAGE\";\r\nconst SET_ITEMS_TOTAL_COUNT = \"SET-ITEMS-TOTAL-COUNT\";\r\nconst TOGGLE_FETCHING = \"TOGGLE-FETCHING\";\r\nconst SUBSCRIBE_IN_PROGRESS = \"SUBSCRIBE-IN-PROGRESS\";\r\n\r\nlet initialState = {\r\n    users: [],\r\n    pageSize: 3,\r\n    portionSize: 10,\r\n    totalItemsCount: 0,\r\n    currentPage: 1,\r\n    isFetching: false,\r\n    subscribeProgress: [],\r\n};\r\n\r\nconst usersReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case FOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map( user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: true}\r\n                    }\r\n                    return user;\r\n                }),\r\n            }\r\n        }\r\n        case UNFOLLOW: {\r\n            return {\r\n                ...state,\r\n                users: state.users.map( user => {\r\n                    if (user.id === action.userId) {\r\n                        return {...user, followed: false}\r\n                    }\r\n                    return user;\r\n                }),\r\n            }\r\n        }\r\n        case SET_USERS: {\r\n            return {\r\n                ...state,   \r\n                users: action.users,\r\n            }\r\n        }\r\n        case SET_CURRENT_PAGE: {\r\n            return {\r\n                ...state,   \r\n                currentPage: action.currentPage,\r\n            }\r\n        }\r\n        case SET_ITEMS_TOTAL_COUNT: {\r\n            return {\r\n                ...state,   \r\n                totalItemsCount: action.totalItemsCount,\r\n            }\r\n        }\r\n        case TOGGLE_FETCHING: {\r\n            return {\r\n                ...state,   \r\n                isFetching: action.isFetching,\r\n            }\r\n        }\r\n        case SUBSCRIBE_IN_PROGRESS: {\r\n            return {\r\n                ...state,   \r\n                subscribeProgress: action.inProgress \r\n                    ? [...state.subscribeProgress, action.userId]\r\n                    : state.subscribeProgress.filter(id => id !== action.userId)\r\n            }\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\n// Action Creators\r\nexport const follow = (userId) => ({\r\n    type: FOLLOW,\r\n    userId,\r\n});\r\n\r\nexport const unfollow = (userId) => ({\r\n    type: UNFOLLOW,\r\n    userId,\r\n});\r\n\r\nexport const setUsers = (users) => ({\r\n    type: SET_USERS,\r\n    users,\r\n});\r\n\r\nexport const setCurrentPage = (currentPage) => ({\r\n    type: SET_CURRENT_PAGE,\r\n    currentPage,\r\n});\r\n\r\nexport const setTotalItemsCount = (totalItemsCount) => ({\r\n    type: SET_ITEMS_TOTAL_COUNT,\r\n    totalItemsCount,\r\n});\r\n\r\nexport const toggleFetch = (isFetching) => ({\r\n    type: TOGGLE_FETCHING,\r\n    isFetching,\r\n});\r\n\r\nexport const toggleSubscribeProgress = (inProgress, userId) => ({\r\n    type: SUBSCRIBE_IN_PROGRESS,\r\n    inProgress,\r\n    userId,\r\n});\r\n\r\n// Thunk Creators\r\nexport const getUsers = (currentPage, pageSize) => (dispatch) => {\r\n    dispatch(toggleFetch(true));\r\n    \r\n    usersAPI.getUsers(currentPage, pageSize)\r\n    .then(data => {\r\n        dispatch(toggleFetch(false));\r\n        dispatch(setUsers(data.items));   \r\n        dispatch(setTotalItemsCount(data.totalCount));   \r\n    });\r\n}\r\n\r\nexport const deleteSubscribe = (userId) => (dispatch) => {\r\n    dispatch(toggleSubscribeProgress(true, userId));\r\n                        \r\n    usersAPI.deleteSubscribe(userId).then(data => {\r\n        if(data.resultCode === 0) {\r\n            dispatch(unfollow(userId));\r\n        }\r\n        dispatch(toggleSubscribeProgress(false, userId));\r\n    });\r\n}\r\n\r\nexport const postSubscribe = (userId) => (dispatch) => {\r\n    dispatch(toggleSubscribeProgress(true, userId));\r\n\r\n    usersAPI.postSubscribe(userId).then(data => {\r\n        if(data.resultCode === 0) {\r\n            dispatch(follow(userId));\r\n        }\r\n        dispatch(toggleSubscribeProgress(false, userId));\r\n    });\r\n}\r\n\r\nexport default usersReducer;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"nav\":\"Nav_nav__cc82A\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavFriendsItem_item__2cFR7\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Cars_wrapper__C-YCo\"};","module.exports = __webpack_public_path__ + \"static/media/preloader.c37a3117.svg\";","// extracted by mini-css-extract-plugin\nmodule.exports = {\"preloader\":\"Preloader_preloader__3Ms-w\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"item\":\"NavItems_item__12AvV\",\"active\":\"NavItems_active__lL5UW\",\"settings\":\"NavItems_settings__2M4GZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"Login_wrapper__a-ZLB\",\"heading\":\"Login_heading__2erzk\",\"form\":\"Login_form__1QRnF\",\"inputGroup\":\"Login_inputGroup__1tUmq\",\"rememberMe\":\"Login_rememberMe__3ktyz\",\"submit\":\"Login_submit__2gB4I\"};","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.0/8 are considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl, {\n    headers: { 'Service-Worker': 'script' },\n  })\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready\n      .then(registration => {\n        registration.unregister();\n      })\n      .catch(error => {\n        console.error(error.message);\n      });\n  }\n}\n","import React from 'react';\r\nimport style from './NavItems.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst NavItems = (props) => {\r\n    return(\r\n        <div>\r\n            <div  className={style.item}>\r\n                <NavLink to=\"/profile\" activeClassName={style.active}>Profile</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/dialogs\" activeClassName={style.active}>Messages</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"#\">News</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/cars\" activeClassName={style.active}>Cars</NavLink>\r\n            </div>\r\n            <div className={style.item}>\r\n                <NavLink to=\"/find-users\" activeClassName={style.active} >Find Users</NavLink>\r\n            </div>\r\n            <div className={`${style.item} ${style.settings}`}>\r\n                <NavLink to=\"#\">Settings</NavLink>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavItems;","import React from 'react';\r\nimport style from './NavFriendsItem.module.css';\r\n\r\nconst NavFriendsItem = (props) => {\r\n    return(\r\n        <div>\r\n            <div className={style.item}>\r\n                <div className=\"avatar\">\r\n                    <img src={props.src} alt=\"avatar\"/>\r\n                </div>\r\n                <span>{props.name}</span>\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavFriendsItem;","import React from 'react';\r\nimport style from './NavFriends.module.css';\r\nimport NavFriendsItem from './NavFriendsItem/NavFriendsItem';\r\n\r\nconst NavFriends = (props) => {\r\n    let navFriends = props.friends\r\n        .map(friend => <NavFriendsItem name={friend.name} src={friend.src} key={friend.id}/>);\r\n\r\n    return(\r\n        <div className={style.wrapper}>\r\n            <span className={style.title}>Friends</span>\r\n            <div className={style.block}>\r\n                {navFriends}\r\n            </div>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default NavFriends;","import React from 'react';\r\nimport NavFriends from './NavFriends';\r\nimport { connect } from 'react-redux';\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        friends: state.navBar.friends,\r\n    };\r\n};\r\n\r\nlet mapDispatchToProps = (dispatch) => {\r\n    return {\r\n\r\n    };\r\n};\r\n\r\nconst NavFriendsContainer = connect(mapStateToProps, mapDispatchToProps)(NavFriends);\r\n\r\nexport default NavFriendsContainer;","import React from 'react';\r\nimport style from './Nav.module.css';\r\nimport NavItems from './NavItems/NavItems';\r\nimport NavFriendsContainer from './NavFriends/NavFriendsContainer';\r\n\r\nconst Nav = (props) => {\r\n    return(\r\n        <div className={style.nav}>\r\n            <NavItems />\r\n            <NavFriendsContainer />\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Nav;","import React from 'react';\r\nimport style from './Header.module.css';\r\nimport { NavLink } from 'react-router-dom';\r\n\r\nconst Header = (props) => {\r\n    return (\r\n        <header className={style.header}>\r\n            <img src=\"https://upload.wikimedia.org/wikipedia/commons/thumb/6/66/BMW_logo_%28white_%2B_grey_background_circle%29.svg/1200px-BMW_logo_%28white_%2B_grey_background_circle%29.svg.png\" alt=\"logo\"/>\r\n            <span className={style.title}>Bmw</span>\r\n            <div className={style.account}>\r\n                {\r\n                    props.isAuth\r\n                    ? <UserInfo login={props.login}  logout={props.logout} email={props.email}/>\r\n                    : <NavLink className={style.loginBtn} to=\"/login\">Log In</NavLink>\r\n                }\r\n            </div>\r\n        </header>\r\n    );\r\n}\r\n\r\nconst UserInfo = (props) => {\r\n    return (\r\n        <div>\r\n            <div className={style.info}>\r\n                <span>Hello {props.login} !</span>\r\n                <span onClick={props.logout} className={style.logout}>Logout</span>\r\n            </div>  \r\n            <div>\r\n                <span>Email: </span>\r\n                <span>{props.email}</span>\r\n            </div>  \r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Header;","import { authAPI, securityAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst SET_AUTH_USER_DATA = \"SET-AUTH-USER-DATA\";\r\nconst SET_CAPTCHA_URL = \"SET-CAPTCHA-URL\";\r\n\r\nlet initialState = {\r\n    userId: null,\r\n    email: null,\r\n    login: null,\r\n    isAuth: false,\r\n    isFetching: false,\r\n    captchaUrl: null,\r\n};\r\n\r\nconst authReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case SET_AUTH_USER_DATA: {\r\n            return {\r\n                ...state,\r\n                ...action.data,\r\n            };\r\n        }\r\n        case SET_CAPTCHA_URL: {\r\n            return {\r\n                ...state,\r\n                captchaUrl: action.url,\r\n            };\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\n// Action Creators\r\nexport const setAuthUserData = (userId, email, login, isAuth) => ({\r\n    type: SET_AUTH_USER_DATA,\r\n    data: {userId, email, login, isAuth}\r\n});\r\n\r\nexport const setCaptchaUrl = (url) => ({\r\n    type: SET_CAPTCHA_URL,\r\n    url,\r\n});\r\n\r\n\r\n// Thunk Creators\r\nexport const getAuthUser = () => (dispatch) => {\r\n    return (\r\n        authAPI.getAuthUser().then(data => {\r\n            if(data.resultCode === 0) {\r\n                let {id, email, login} = data.data; \r\n                dispatch(setAuthUserData(id, email, login, true));\r\n            }\r\n        })\r\n    )\r\n}\r\n\r\nexport const login = (email, password, rememberMe, captcha) => async (dispatch) => {\r\n    let data = await authAPI.login(email, password, rememberMe, captcha);\r\n\r\n    if(data.resultCode === 0) {\r\n        dispatch(getAuthUser());\r\n    }else {\r\n        if(data.resultCode === 10) {\r\n            dispatch(getCaptchaUrl());\r\n        }\r\n\r\n        let message = data.messages.length > 0 ? data.messages[0] : \"Something gone wrong\";\r\n        dispatch(stopSubmit(\"login\", {_error: message}));\r\n    }\r\n}\r\n\r\nexport const getCaptchaUrl = () => async (dispatch) => {\r\n    let data = await securityAPI.getCaptchaUrl();\r\n    let captchaUrl = data.url;\r\n    dispatch(setCaptchaUrl(captchaUrl));\r\n}\r\n\r\nexport const logout = () => async (dispatch) => {\r\n    let data = await authAPI.logout();\r\n    \r\n    if(data.resultCode === 0) {\r\n        dispatch(setAuthUserData(null, null, null, false));\r\n    }\r\n}\r\n\r\nexport default authReducer;","import React from 'react';\r\nimport Header from './Header';\r\nimport { connect } from 'react-redux';\r\nimport { logout } from '../../redux/auth-reducer';\r\n\r\nclass HeaderContainer extends React.Component {\r\n    render() {\r\n        return <Header {...this.props} />\r\n    }\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        login: state.auth.login,\r\n        email: state.auth.email,\r\n    }\r\n};\r\n\r\nexport default connect(mapStateToProps, {\r\n    logout,\r\n})(HeaderContainer);","import React from 'react';\r\nimport style from './Cars.module.css';\r\nimport { connect } from 'react-redux';\r\n\r\nconst Cars = (props) => {\r\n    let cars = props.cars\r\n        .map(car => <img key={car.id} src={car.src} alt=\"car\"/>);\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            {cars}\r\n        </div>\r\n    );\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        cars: state.carsPage.cars,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n\r\n})(Cars);","import React from 'react';\r\nimport style from './Login.module.css';\r\nimport { reduxForm, Field } from 'redux-form';\r\nimport { connect } from 'react-redux';\r\nimport { login } from '../../redux/auth-reducer'; \r\nimport { Input } from '../common/FormElements/FormElements';\r\nimport { required } from '../../utils/validators/validators';\r\nimport { Redirect } from 'react-router-dom';\r\n\r\nconst LoginForm = (props) => {\r\n    return (\r\n        <form onSubmit={props.handleSubmit} className={style.form}>\r\n            <div className={style.inputGroup}>\r\n                <label htmlFor=\"\">login</label>\r\n                <Field type={\"text\"} placeholder={\"Login\"} name={\"email\"} component={Input} validate={[required]}/>\r\n            </div>\r\n            <div className={style.inputGroup}>\r\n                <label htmlFor=\"\">Password</label>\r\n                <Field type={\"password\"} placeholder={\"Password\"} name={\"password\"} component={Input} validate={[required]}/>\r\n            </div>\r\n            <div className={style.rememberMe}>\r\n                <Field type=\"checkbox\" name={\"rememberMe\"} component={\"input\"} />\r\n                <label htmlFor=\"rememberMe\">Remember Me</label>\r\n            </div>\r\n            {\r\n                props.error && <span className=\"error\">{props.error}</span>\r\n            }\r\n            <div>\r\n                {\r\n                    props.captchaUrl && <img src={props.captchaUrl} alt=\"captcha\"/>\r\n                }\r\n                {\r\n                    props.captchaUrl && <Field type={\"text\"} name={\"captcha\"} component={Input} validate={[required]} />\r\n                }\r\n            </div>\r\n            <button className={`${style.submit} btn`}>Login</button>\r\n        </form>\r\n    );\r\n}\r\n\r\nconst LoginFormRedux = reduxForm({\r\n    form: \"login\",\r\n})(LoginForm);\r\n\r\nconst Login = (props) => {\r\n    const onSubmit = (formData) => {\r\n        props.login(formData.email, formData.password, formData.rememberMe, formData.captcha);\r\n    }\r\n\r\n    if(props.isAuth) {\r\n        return <Redirect to={\"/profile\"} />\r\n    };\r\n\r\n    return (\r\n        <div className={style.wrapper}>\r\n            <h1 className={style.heading}>\r\n                Login\r\n            </h1>\r\n            <LoginFormRedux onSubmit={onSubmit} captchaUrl={props.captchaUrl} />\r\n        </div>\r\n    );\r\n}\r\n\r\nlet mapStateToProps = (state) => {\r\n    return {\r\n        isAuth: state.auth.isAuth,\r\n        captchaUrl: state.auth.captchaUrl,\r\n    }\r\n}\r\n\r\nexport default connect(mapStateToProps, {\r\n    login,\r\n})(Login);","import { getAuthUser } from \"./auth-reducer\";\r\n\r\nconst INITIALIZED_SUCCESS = \"INITIALIZED-SUCCESS\";\r\n\r\nlet initialState = {\r\n    initialized: false,\r\n};\r\n\r\nconst appReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case INITIALIZED_SUCCESS: {\r\n            return {\r\n                ...state,\r\n                initialized: true,\r\n            };\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\n// Action Creators\r\nexport const initializedSuccess = () => ({\r\n    type: INITIALIZED_SUCCESS,\r\n});\r\n\r\n\r\n// Thunk Creators\r\nexport const initializeApp = () => (dispatch) => {\r\n    let promise = dispatch(getAuthUser());\r\n\r\n    Promise.all([promise])\r\n        .then( () => {\r\n            dispatch(initializedSuccess()) \r\n        });\r\n}\r\n\r\nexport default appReducer;","let initialState = {\r\n    friends: [\r\n        {id: 1, name: \"Alex\", src: \"https://cdn3.iconfinder.com/data/icons/startup-avatars/259/OfficeAvatarglasses-512.png\"},\r\n        {id: 2, name: \"Artur\", src: \"https://cdn4.iconfinder.com/data/icons/cool-avatars-2/190/00-14-512.png\"},\r\n        {id: 3, name: \"Jack\", src: \"https://cdn3.iconfinder.com/data/icons/startup-avatars/259/OfficeAvatarYoungMan-512.png\"},\r\n    ],\r\n};\r\n\r\nconst navBarReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default navBarReducer;","let initialState = {\r\n    cars: [\r\n        {id: 1, src: \"https://c4.wallpaperflare.com/wallpaper/112/281/314/bmw-bmw-m8-gran-coupe-wallpaper-preview.jpg\"},\r\n        {id: 2, src: \"https://i.pinimg.com/originals/02/57/7e/02577e0d44bdff44253ae212fbceebf3.jpg\"},\r\n        {id: 3, src: \"https://cdn.wallpapersafari.com/6/17/rOwvSP.jpg\"},\r\n        {id: 4, src: \"https://wallup.net/wp-content/uploads/2017/03/29/493722-vehicle-car-Stanceworks-artwork-BMW-BMW_M6-depth_of_field-748x421.jpg\"},\r\n        {id: 5, src: \"https://images.hdqwalls.com/wallpapers/bmw-m4-performace-technic-modified-ad.jpg\"},\r\n    ],\r\n};\r\n\r\nconst carsReducer = (state = initialState, action) => {\r\n\r\n    return state;\r\n}\r\n\r\nexport default carsReducer;","import navBarReducer from \"./navBar-reducer\";\r\nimport profileReducer from \"./profile-reducer\";\r\nimport dialogsReducer from \"./dialogs-reducer\";\r\nimport usersReducer from \"./users-reducer\";\r\nimport authReducer from \"./auth-reducer\";\r\nimport thunkMidlleware from \"redux-thunk\";\r\nimport {reducer as formReducer} from \"redux-form\";\r\nimport appReducer from \"./app-reducer\";\r\nimport carsReducer from \"./cars-reducer\";\r\n\r\n\r\nconst { createStore, combineReducers, applyMiddleware, compose } = require(\"redux\");\r\n\r\nlet reducers = combineReducers({\r\n    navBar: navBarReducer,\r\n    profilePage: profileReducer,\r\n    dialogsPage: dialogsReducer,\r\n    findFriendsPage: usersReducer,\r\n    carsPage: carsReducer,\r\n    auth: authReducer,\r\n    app: appReducer,\r\n    form: formReducer,\r\n});\r\n\r\n// for redux devTool extension\r\nconst composeEnhancers = window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__ || compose;\r\nconst store = createStore(reducers, composeEnhancers(\r\n    applyMiddleware(thunkMidlleware)\r\n));\r\n\r\n// let store = createStore(reducers, applyMiddleware(thunkMidlleware));\r\n\r\nwindow.store = store;\r\n\r\nexport default store;","import React from 'react';\r\nimport Preloader from '../components/common/Preloader/Preloader';\r\n\r\nexport const withSuspense = (Component) => {\r\n\r\n    return (props) => {\r\n        return (\r\n            <React.Suspense fallback={ <Preloader /> }>\r\n                <Component {...props}/>\r\n            </React.Suspense>\r\n        )\r\n    }\r\n}","import React from 'react';\nimport './App.css';\nimport Nav from './components/Nav/Nav';\nimport HeaderContainer from './components/Header/HeaderContainer';\nimport Cars from './components/Cars/Cars';\nimport Login from './components/Login/Login';\nimport Preloader from './components/common/Preloader/Preloader';\nimport { Route, Redirect } from 'react-router-dom';\nimport { connect } from 'react-redux';\nimport { initializeApp } from './redux/app-reducer';\nimport { BrowserRouter } from 'react-router-dom';\nimport store from './redux/redux-store';\n    import { Provider } from 'react-redux';\nimport { withSuspense } from './hoc/withSuspense';\n\n// React lazy load\nconst ProfileContainer = React.lazy( () => import('./components/Profile/ProfileContainer'));\nconst DialogsContainer = React.lazy( () => import('./components/Dialogs/DialogsContainer'));\nconst UsersContainer = React.lazy( () => import('./components/Users/UsersContainer'));\n    \n\nclass AppComponent extends React.Component {\n    componentDidMount() {\n        this.props.initializeApp();\n    }\n\n    render() {\n        if(!this.props.initialized) {\n            return <Preloader />\n        }\n\n        return (\n            <div className=\"wrapper\">\n                <HeaderContainer />\n                <Nav/>\n                <div className='wrapper-content'>\n                    <Route path=\"\" exact={true} render={ () => <Redirect to=\"/profile\"/> } />\n                    <Route path=\"/profile/:userId?\" render={ withSuspense(ProfileContainer) } />\n                    <Route path=\"/dialogs\" render={ withSuspense(DialogsContainer) } />\n                    <Route path=\"/find-users\" render={ withSuspense(UsersContainer) } />\n                    <Route path=\"/login\" render={ () => <Login />  } />\n                    <Route path=\"/cars\" render={ () => <Cars />  } />\n                    <Route path=\"*\" exact={true} render={ () => <div>404 not found</div>  } />\n                </div>\n            </div>\n        );\n    }   \n}\n\nconst mapStateToProps = (state) => {\n    return {\n        initialized: state.app.initialized,\n    }\n}\n\nconst AppContainer = connect(mapStateToProps, {\n    initializeApp,\n})(AppComponent);\n\nconst App = (props) => {\n    return (\n        // <React.StrictMode>\n            <BrowserRouter>\n                <Provider store={store}> \n                    <AppContainer />\n                </Provider>\n            </BrowserRouter>\n        // </React.StrictMode>\n    )\n}\n\nexport default App;\n","import * as serviceWorker from './serviceWorker';\nimport React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\n\nReactDOM.render(<App />, document.getElementById('root'));\n\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister();","// extracted by mini-css-extract-plugin\nmodule.exports = {\"header\":\"Header_header__eEHbE\",\"title\":\"Header_title__3cWpl\",\"account\":\"Header_account__3wU8i\",\"loginBtn\":\"Header_loginBtn__27qBB\",\"info\":\"Header_info__2KBVf\",\"logout\":\"Header_logout__xIq6d\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"inputGroup\":\"FormElements_inputGroup__2Ivso\",\"invaild\":\"FormElements_invaild__3XLOQ\",\"errorMessage\":\"FormElements_errorMessage__72PN5\"};","import React from 'react';\r\nimport style from './FormElements.module.css';\r\n\r\nexport const TextArea = ({input, meta: {touched, error}, ...props}) => {\r\n    let invaild = touched &&error;\r\n    return (    \r\n        <div className={`${style.inputGroup} ${invaild ? style.invaild : \"\"}`}>\r\n            <textarea {...input} {...props}/>\r\n            {invaild && <span className={style.errorMessage}>{error}</span>}\r\n        </div>\r\n    );\r\n}\r\n\r\nexport const Input = ({input, meta: {touched, error}, ...props}) => {\r\n    let invaild = touched && error;\r\n    return (    \r\n        <div className={`${style.inputGroup} ${invaild ? style.invaild : \"\"}`}>\r\n            <input {...input} {...props}/>\r\n            {invaild && <span className={style.errorMessage}>{error}</span>}\r\n        </div>\r\n    );\r\n}","export const required = (value) => {\r\n    if(value) {\r\n        return undefined;\r\n    }\r\n\r\n    return \"Input can't be empty.\"\r\n} \r\n\r\nexport const maxLength = (maxLength) => (value) => {\r\n    if(value.length > maxLength) {\r\n        return `Max Length is ${maxLength} simbols!!`;\r\n    }\r\n\r\n    return undefined;\r\n}","import React from 'react';\r\nimport preloader from '../../../assets/img/preloader.svg';\r\nimport style from './Preloader.module.css';\r\n\r\nconst Preloader = () => {\r\n    return (\r\n        <div className={style.preloader}>\r\n            <img src={preloader} alt=\"preloader\"/>\r\n        </div>\r\n    );\r\n}\r\n\r\nexport default Preloader;","// extracted by mini-css-extract-plugin\nmodule.exports = {\"wrapper\":\"NavFriends_wrapper__3KSak\",\"title\":\"NavFriends_title__30Nem\",\"block\":\"NavFriends_block__iFww8\"};","import { profileAPI } from \"../api/api\";\r\nimport { stopSubmit } from \"redux-form\";\r\n\r\nconst ADD_POST = \"ADD-POST\";\r\nconst SET_PROFILE = \"SET-PROFILE\";\r\nconst SET_STATUS = \"SET-STATUS\";\r\nconst SAVE_PHOTO = \"SAVE-PHOTO\";\r\nconst PROFILE_EDIT_SUCCESS_TOGGLE = \"PROFILE-EDIT-SUCCESS-TOGGLE\";\r\nconst DELETE = \"DELETE\";\r\n\r\nlet initialState = {\r\n    posts: [\r\n        {\r\n            id: \"1\",\r\n            message: \"Lorem Ipsum is simply dummy text of the printing and typesetting industry.\",\r\n            likes: \"150\",\r\n            src: \"https://cdn1.iconfinder.com/data/icons/user-avatars-2/300/10-512.png\"\r\n        },\r\n        {\r\n            id: \"2\",\r\n            message: \"t is a long established fact that a reader will be distracted by the readable content of a page when looking at its layout.\",\r\n            likes: \"5404\",\r\n            src: \"https://www.shareicon.net/data/2015/09/24/106427_man_512x512.png\"\r\n        },\r\n        {\r\n            id: \"3\",\r\n            message: \"Contrary to popular belief, Lorem Ipsum is not simply random text.\",\r\n            likes: \"20\",\r\n            src: \"https://png.pngtree.com/element_our/png/20181206/female-avatar-vector-icon-png_262142.jpg\"\r\n        },\r\n    ],\r\n    profile: null,\r\n    profileEditSuccess: null,\r\n    status: \"\",\r\n};\r\n\r\nconst profileReducer = (state = initialState, action) => {\r\n    switch(action.type) {\r\n        case ADD_POST: {\r\n            let newPost = {\r\n                id: state.posts.length + 1,\r\n                message: action.newPostText,\r\n                likes: 0,\r\n                src: \"https://cdn1.iconfinder.com/data/icons/different-types-of-faces-1/512/8_Avatar_business_woman-512.png\",\r\n            };\r\n\r\n            return {\r\n                ...state,\r\n                posts: [...state.posts, newPost],\r\n            };\r\n        }\r\n        case SET_PROFILE: {\r\n            return {\r\n                ...state,\r\n                profile: action.profile,\r\n            };\r\n        }\r\n        case SET_STATUS: {\r\n            return {\r\n                ...state,\r\n                status: action.status,\r\n            };\r\n        }\r\n        case DELETE: {\r\n            return {\r\n                ...state,\r\n                posts: state.posts.filter(post => post.id != action.id),\r\n            };\r\n        }\r\n        case SAVE_PHOTO: {\r\n            return {\r\n                ...state,\r\n                profile: {...state.profile, photos: action.photos},\r\n            };\r\n        }\r\n        case PROFILE_EDIT_SUCCESS_TOGGLE: {\r\n            return {\r\n                ...state,\r\n                profileEditSuccess: action.success,\r\n            };\r\n        }\r\n        default: \r\n            return state;\r\n    }\r\n}\r\n\r\n\r\n// Action Creators\r\nexport const deletePost = (id) => ({\r\n    type: DELETE,\r\n    id,\r\n});\r\n\r\nexport const addPost = (newPostText) => ({\r\n    type: ADD_POST,\r\n    newPostText,\r\n});\r\n\r\nexport const setProfile = (profile) => ({\r\n    type: SET_PROFILE,\r\n    profile,\r\n});\r\n\r\nexport const setStatus = (status) => ({\r\n    type: SET_STATUS,\r\n    status,\r\n});\r\n\r\nexport const savePhoto = (photos) => ({\r\n    type: SAVE_PHOTO,\r\n    photos,\r\n});\r\n\r\nexport const profileEditSuccessToggle = (success) => ({\r\n    type: PROFILE_EDIT_SUCCESS_TOGGLE,\r\n    success,\r\n});\r\n\r\n// Thunk Creators\r\nexport const getProfile = (userId) => (dispatch) => {\r\n    profileAPI.getProfile(userId)\r\n        .then(data => {\r\n            dispatch(setProfile(data));\r\n    });\r\n};\r\n\r\nexport const getStatus = (userId) => (dispatch) => {\r\n    profileAPI.getStatus(userId)\r\n        .then(data => {\r\n            dispatch(setStatus(data));\r\n    });\r\n};\r\n\r\nexport const updateStatus = (status) => (dispatch) => {\r\n    profileAPI.updateStatus(status)\r\n        .then(data => {\r\n            if(data.resultCode === 0) {\r\n                dispatch(setStatus(status));\r\n            }\r\n    });\r\n};\r\n\r\nexport const uploadPhoto = (photo) => (dispatch) => {\r\n    profileAPI.uploadPhoto(photo)\r\n        .then(data => {\r\n            if(data.resultCode === 0) {\r\n                dispatch(savePhoto(data.data.photos));\r\n            }\r\n    });\r\n};\r\n\r\nexport const saveProfileInfo = (profile) => (dispatch, getState) => {\r\n    let authUserId = getState().auth.userId;\r\n    profileAPI.saveProfileInfo(profile) \r\n        .then(data => {\r\n            if(data.resultCode === 0) {\r\n                dispatch(getProfile(authUserId));\r\n                dispatch(profileEditSuccessToggle(true));\r\n            }\r\n            else {\r\n                let message = data.messages.length > 0 ? data.messages[0] : \"Something gone wrong\";\r\n                dispatch(stopSubmit(\"editProfile\", {_error: message}));\r\n                dispatch(profileEditSuccessToggle(false));\r\n            }\r\n    });\r\n};\r\n\r\nexport default profileReducer;"],"sourceRoot":""}